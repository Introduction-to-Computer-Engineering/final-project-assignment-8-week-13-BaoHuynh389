##### Assignemnet 8, Part 2
 # Week 13 - Oscilloscopes and serial protocols
 ## Part 1: Oscilloscope warmup:
1. Watch the first 4 oscilloscope videos referenced below.

2. Take a look at the Rigol 1000 Series oscilloscopes documentation site to see what resources you have in case you need more in-depth knowledge.

3. The oscilloscope shows continuous varying signals that it detects at the tips of its probes. The 
         
 ## Part 2: Visualize simple continuous signals:
   i: Visualize the following signals, using the Auto regime and default settings (trigger on a rising edge on CH1). For each signal, take a video of the setup (the source wire and connection of the oscilloscope probe) and the display of the oscilloscope, while varying one of the signal properties (wave shape, frequency, amplitude) using the controls of the source. *(LINK FILES)
   
a. Out: The video shows the configured the OUT of the built-in function generator on the workstation connected to the oscilloscope.
  1. videolink:https://imgur.com/gallery/jajNZaW
  2. code link[OUT.js](OUT.js)

b. standalone Rigol function generator: The video of a oscilloscope attached to the function generator
1. video link: https://imgur.com/gallery/uSdJl33

c. PWM: the video that shows the one line of code that sends a PWM pulse.
1. video link: https://imgur.com/gallery/rZBdRUE
2. code link:[PWM-pulses.js](PWM-pulses.js)

d. PWM 5%:  video of that shows a program that sends PWM pusles with the period of the base wave increasing by 5% every time.
1. video link: https://imgur.com/gallery/OQwcaUQ
2. code link:[PWM-pulses-5%.js](PWM-pulses-5%.js)

   ii: other servo function, using the oscilloscope
   a video of the other servo function, servoSetPulse. This function sets the duration of the pulse that is emitted.
 1. video link: https://imgur.com/gallery/AF6RdlW
 2. code link:[servo.js](servo.js)
   
 ## Part 3: I2C warmup:
1. Read the SparkFun I2C tutorial.

2. Question:
a. What are the disadvantages of the other two serial communication channels, UART and SPI, and how does I2C improve on them?
- UART is between only 2 devices that have to have the same data rate. If more than one device is connected to the same port bus contention can be a problem. SPI requires a lot of pins and can become excessive when routing signals also become more difficult in a tight PCB layout. I2C can support more than one master, requires only two wires, and supports up to 1008 slave devices.

b. I2C is a two-wire serial communication channel. What are the two wires, SDA and SCL?
- SDA is the data signal, which is the information that is being transmitted. The SCL is the clock signal that acts as a sort of timer for the exchange of data. The clock signal is generated by the master.

c. What distinguishes the master and the slaves?
- Masters drives the clock and initiates the transfer over the I2C bus. Slaves can transfer data, but cannot initiate transfer. Slaves can also delay the clock by clock stretching to delay the transmission of data.

d. How are the two types of protocol frames different?
- The address frame is the first process in the communication sequence. the first eight bits if the data is trasmitted to the recieving device, the device should pull SDA line low then the data frame is when the master generates a continuous clock signal, and the SDA is either placed on the master or slave depending on if the program call for read or write.

e. What is the most appropriate trigger for capturing an I2C frame on the oscilloscope?
- The appropriate trigger for capturing an I2C frame on the oscilloscope is the falling edge of the SDA. The reason for this is that process is started off by the address frame, which pulls the SDA low.that is why SDA will lead with a falling edge. The data frame has not yet been started at the point of the address frame, so the SCL will start after the SDA.

f.(Advanced) If the micro:bit is configured by default as a master, and two micro:bits, connected to each other via the SDA and SCL lines, communicate over I2C? 
- Both of microbits are configured to be masterst. when the programmer dont want to go deep into the operating system, having 2 masters will not work. Two of the reasons for this is that there would be two masters trying to initiate transmission of data and two clocks that would not be in sync.

    
 ## Part 4: fIRST STEP WITH I2C
 
1.  Configure the micro:bit to write a number to some arbitrary I2C address. The address can be arbitrary. Capture an I2C frame on the oscilloscope. 

a. what frame did you capture?
- This test captured the address frame. The address frame can be identified by the first falling edge of the SDA signal. The data frame is when the clock has been started and is running, and since there was not an acknowledgement by the slave, there was no data frame.

b. what does the I2C write function do when there is nothing connected?
- The I2C write function still has the master try to initiate a transaction to the slave, but after the slave doesn't respond the master realizes that there is nothing to transmit to. The person running this experiment would see nothing, but the master still would try to initiate a transaction and after not receiving a confirming message from the slave, the master would halt transmission.

c. Is there a difference in what you capture if you write a number to one of the internal device addresses?
- It have a a difference between the addresses because when one writes to the internal address, there is a response from the slave, resulting in an address frame and a data frame. When writing to an arbitrary address, there is only a data frame because there is no response from the slave.

 1. code link (write i2c): [write-I2C.js ](write-I2C.js)
 2. photo set-up link: https://imgur.com/gallery/o7Vy8VS
 3. photo oscilloscope link: https://imgur.com/gallery/El8rFZv

2. Write a short program to read a number from the I2C devices on the micro:bit. For each device:
Requirement:

a. Try all three addresses. (Bonus for a cogent argument about why there are three.)
- There is actually only one address, and the 0x33 and 0x32 are added at the end to either write to that address (0x32 is added to the end of 0x19 in binary) or to read to that address (0x33 is added to the end of 0x19 in binary). If reading or writing to any other address, it will not have a data frame. There are two video above that demonstrate the difference between writing to the internal address and the either 0x32 or 0x33. In the code I first wrote to 0x19, then wrote to one of the other two addresses. As the video shows, when writing to 0x19, there is a data frame, but when writing to either 0x33 or 0x32, there is only an address frame.

b. Try signed and unsigned single bype integers.
c. Scroll the values on the LED matrix.
d. What values do you read?
e. Can you get different values by moving the micro:bit around.

# Files:
1. Code link of a program to read a number from the I2C devices on the micro:bit (acclometer, sign byte integers):
[readi2c_accelerometer_signed.js](readi2c_accelerometer_signed.js)

2. Image link of a program to read a number from the I2C devices on the micro:bit (acclometer, sign byte integers):
https://imgur.com/gallery/B8GZNfG

3. Video link of a program to read a number from the I2C devices on the micro:bit (acclometer, sign byte integers):
https://imgur.com/gallery/0cEyQ3b

4. Code link of a program to read a number from the I2C devices on the micro:bit (acclometer, unsign byte integers):
[readi2c_accelerometer_unsigned](readi2c_accelerometer_unsigned)

5. Image link of a program to read a number from the I2C devices on the micro:bit (acclometer, unsign byte integers):
https://imgur.com/gallery/wHw9cy9

6. Video link of a program to read a number from the I2C devices on the micro:bit (acclometer, unsign byte integers):
https://imgur.com/gallery/lvFoLDt


7. Code link of a program to read a number from the I2C devices on the micro:bit (magnetometer, sign byte integers):
[readi2c_magnetometer_signed.js ](readi2c_magnetometer_signed.js)

8. Image link of a program to read a number from the I2C devices on the micro:bit (magnetometer, sign byte integers):
https://imgur.com/gallery/MR9a3AJ

9. Video link of a program to read a number from the I2C devices on the micro:bit (magnetometer, sign byte integers):
https://imgur.com/gallery/Itjb8w2

10. Code link of a program to read a number from the I2C devices on the micro:bit (magnetometer, unsign byte integers):
[readi2c_magnetometer_unsign.js](readi2c_magnetometer_unsign.js)
11. Image link of a program to read a number from the I2C devices on the micro:bit (magnetometer, unsign byte integers):
https://imgur.com/gallery/ARu55PG

12. Video link of a program to read a number from the I2C devices on the micro:bit (magnetometer, unsign byte integers):
https://imgur.com/gallery/IIDuARU


